function u(){return new URLSearchParams(window.location.search).get("v")}async function p(n){try{return(await(await fetch("http://localhost:5000/api/summarize",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({videoId:n,targetLang:"fr"})})).json()).summary.split(`
`).filter(s=>!!s)}catch(e){return console.error("Erreur lors de la rÃ©cupÃ©ration du rÃ©sumÃ© :",e),null}}function y(n){var i;const e=document.querySelector('ytd-engagement-panel-section-list-renderer[target-id="engagement-panel-ads"]');if(!e){console.warn("Panneau de publicitÃ© non trouvÃ©.");return}const r=document.documentElement.getAttribute("dark")!==null,s=r?"#1e1e1e":"#f9f9f9",d=r?"#333":"#ccc",c=r?"#f1f1f1":"#000",t=document.createElement("div");t.style.background=s,t.style.border=`1px solid ${d}`,t.style.padding="10px",t.style.marginBottom="10px",t.style.borderRadius="8px",t.style.color=c;const o=document.createElement("h3");o.textContent="ðŸ§  RÃ©sumÃ© de la vidÃ©o",o.style.marginBottom="8px",o.style.fontWeight="bold",o.style.color=c,t.appendChild(o);const l=document.createElement("ul");n.forEach(m=>{const a=document.createElement("li");a.textContent=m,a.style.marginBottom="4px",a.style.color=c,l.appendChild(a)}),t.appendChild(l),(i=e.parentElement)==null||i.insertBefore(t,e)}(async()=>{const n=u();if(n){const e=await p(n);e&&y(e)}})();
